{% extends "quotesapp/base.html" %}
{% load static %}
{% block title %}–°–ª—É—á–∞–π–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞{% endblock %}
{% block content %}
<h2>–°–ª—É—á–∞–π–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞</h2>
{% if quote %}
<div class="quote-box" id="quote-box" data-quote-id="{{ quote.id }}">
    <blockquote>{{ quote.text|linebreaksbr }}</blockquote>
    <p>
        <em>–ò—Å—Ç–æ—á–Ω–∏–∫:</em> {{ quote.source.name }} ({{ quote.source.get_type_display }})
        {% if quote.author %}<br><em>–ê–≤—Ç–æ—Ä:</em> {{ quote.author }}{% endif %}
        {% if quote.year %}<br><em>–ì–æ–¥:</em> {{ quote.year }}{% endif %}
        <br><em>–Ø–∑—ã–∫:</em> {{ quote.language }}
    </p>
    <div class="stats">
        –ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤: <span id="views">{{ quote.views }}</span> |
        –õ–∞–π–∫–æ–≤: <span id="likes">{{ quote.likes }}</span> |
        –î–∏–∑–ª–∞–π–∫–æ–≤: <span id="dislikes">{{ quote.dislikes }}</span> |
        –†–µ–π—Ç–∏–Ω–≥: <span id="rating">{{ quote.rating }}</span> |
        –í–µ—Å: {{ quote.weight }}
    </div>
    <div class="flex" style="margin-top:.5rem;">
        <button id="like-btn" data-id="{{ quote.id }}" data-action="like" aria-pressed="{% if user_action == 'like' %}true{% else %}false{% endif %}">üëç –õ–∞–π–∫ (<span id="like-count">{{ quote.likes }}</span>)</button>
        <button id="dislike-btn" data-id="{{ quote.id }}" data-action="dislike" aria-pressed="{% if user_action == 'dislike' %}true{% else %}false{% endif %}">üëé –î–∏–∑–ª–∞–π–∫ (<span id="dislike-count">{{ quote.dislikes }}</span>)</button>
        <a href="{% url 'index' %}">–û–±–Ω–æ–≤–∏—Ç—å</a>
    </div>
</div>
{% else %}
<p>–ù–µ—Ç —Ü–∏—Ç–∞—Ç. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é!</p>
<a href="{% url 'add_quote' %}" role="button">–î–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ç–∞—Ç—É</a>
{% endif %}
{% endblock %}
{% block extra_js %}
<script src="{% static 'quotesapp/js/like.js' %}"></script>
{% endblock %}